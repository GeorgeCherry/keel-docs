# API's

Your Keel backend exposes three types of API - **GraphQL**, **JSON**, and **JSON-RPC**. When running Keel locally using `keel run` you can make requests to your API at `http://localhost:8000` and for deployed environments you'll find the domain on the **Overview page** in the console.

## GraphQL

**Endpoint:** `/api/graphql`

[GraphQL](https://graphql.org/) is an open-source data query language that allows clients to specify the data they need from the API. It also allows querying data across relational data models, meaning that you can do in one API call what might otherwise require several.

When running locally with `keel run` you can also access a [GraphiQL](https://github.com/graphql/graphiql) playground at `/api/graphiql`.

[Read the GraphQL API docs](/apis/graphql)

## JSON / OpenAPI

**Endpoint:** `/api/json/<actionName`

[OpenAPI](https://www.openapis.org/) is an open-source specification for describing JSON API's. It describes which endpoints are available and the data-type's of the requests and responses. There are many open source libraries for generating clients from an OpenAPI spec and you can download the OpenAPI (v3.1) definitions for your JSON API from the API Explorer in the console or from the `/api/json/openapi.json` endpoint of your Keel app.

[The the JSON API docs](/apis/json)

## JSON-RPC

**Endpoint:** `/api/rpc`

[JSON-RPC](https://www.jsonrpc.org/) is a lightweight [Remote Procedure Call](https://en.wikipedia.org/wiki/Remote_procedure_call) (RPC) protocol. The JSON-RPC endpoint is `/api/rpc` and is compliant with the JSON-RPC 2.0 spec. 

[Read the JSON-RPC docs](/apis/rpc)

## Which API should I use?

We support these different types of endpoints to give you flexibility in how to connect to your Keel app. If you are building a web frontend and have used GraphQL before or want to be able to load lots of relational data in one request, then GraphQL may be a good choice.

If you want a simpler option with a more standard request/response pattern then the JSON API might be more for you. 

import { Callout } from 'nextra/components'

<Callout type="info" emoji="ðŸ™Œ">
  In the future you'll be able to generate a fully-typed client for your API using the Keel CLI.
</Callout>

## Authentication

Authentication works in the same way across all the different API types. First you need to get a JWT (JSON Web Token) by calling the built-in `authenticate` action. This action will return a JWT which you then pass in all subsequent requests in an `Authorization` header as a Bearer token.

### Example using `fetch` with JSON API

```tsx
// this would probably be set using an environment variable
const apiUrl = "http://localhost:8000";

// Authenticate
const res = await fetch(`${apiUrl}/web/json/authenticate`, {
  method: "POST",
  body: JSON.stringify({
    emailPassword: {
      email: "bob@disney.com",
      password: "m1ck3ym0us3",
    },
  }),
});

// Get JSON response
const json = await res.json();

// Extract JWT
const token = json.token;

// Make an authenticated request
await fetch(`${apiUrl}/web/json/myAction`, {
  method: "POST",
  body: JSON.stringify({
    // some inputs
  }),
  headers: {
    // Pass JWT as Bearer token
    Authorization: `Bearer ${token}`,
  },
});
```